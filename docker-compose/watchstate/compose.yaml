services:
    watchstate:
        image: ghcr.io/arabcoders/watchstate:latest
        # To change the user/group id associated with the tool change the following line.
        user: "0:0"
        container_name: ${CONTAINER_PREFIX}watchstate
        restart: ${RESTART_POLICY}
        ports:
            - "8002:8080" # The port which the webui will be available on.
        volumes:
            - ${CONFIG_PATH}/watchstate:/config:rw # mount current directory to container /config directory.
        deploy:
            resources:
                limits:
                    cpus: '4.0'  # Allow usage of up to 4 CPU cores
                    memory: 1G   # Still maintain memory limit for stability
                reservations:
                    cpus: '0.5'  # Guarantee minimum CPU
                    memory: 512M # Guarantee minimum memory
        cpu_shares: 1024        # Maximum priority